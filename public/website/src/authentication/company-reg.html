<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Company Registration Form</title>
		<link rel="stylesheet" href="../output.css" />
		<style>
			.step-indicator {
				transition: all 0.3s ease;
			}
			.step-indicator.active {
				background-color: #02611a;
				color: white;
			}
			.step-indicator.completed {
				background-color: #02611a;
				color: white;
			}
			.form-step {
				display: none;
			}
			.form-step.active {
				display: block;
			}
			.file-upload-area {
				border: 2px dashed #d1d5db;
				transition: all 0.3s ease;
			}
			.file-upload-area:hover {
				border-color: #10b981;
				background-color: #f0fdf4;
			}
			.file-upload-area.dragover {
				border-color: #10b981;
				background-color: #f0fdf4;
			}
		</style>
	</head>
	<body class="min-h-screen py-8 bg-gray-50">
		<div class="max-w-4xl px-4 mx-auto">
			<!-- Header -->
			<div class="p-6 mb-6 bg-white rounded-lg shadow-sm">
				<div class="flex items-center gap-3 mb-4">
					<div class="flex items-center justify-center w-8 h-8 bg-green-800 rounded">
						<svg
							class="w-5 h-5 text-white"
							fill="none"
							stroke="currentColor"
							viewBox="0 0 24 24">
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
						</svg>
					</div>
					<h1
						class="text-3xl font-bold text-black leading-[100%] tracking-normal font-sora">
						Company Registration Form
					</h1>
				</div>
				<p class="text-lg text-black font-sora leading-[100%] tracking-normal">
					Please fill out all required fields and upload the necessary documents
				</p>

				<!-- Progress Bar -->
				<div class="mt-6">
					<div class="flex items-center justify-between mb-2">
						<span
							class="text-sm font-medium tracking-normal text-black font-sora leading-[100%]"
							>Progress</span
						>
						<span
							class="text-sm font-medium tracking-normal text-black font-sora leading-[100%]"
							><span id="progress-percent">0</span>% complete</span
						>
					</div>
					<div class="w-full h-2 bg-gray-200 rounded-full">
						<div
							id="progress-bar"
							class="h-2 transition-all duration-300 bg-green-800 rounded-full ease-in-ou text-smt font-sora"
							style="width: 0%"></div>
					</div>
				</div>

				<!-- Step Indicators -->
				<div
					class="flex flex-col items-center justify-center mt-6 space-y-4 sm:flex-row sm:space-y-0 sm:space-x-4">
					<!-- Step 1 -->
					<div class="flex flex-col items-center sm:flex-row sm:items-center">
						<div
							class="flex items-center justify-center w-8 h-8 text-sm font-medium text-white bg-green-800 border-2 rounded-full border-primary-green step-indicator">
							1
						</div>
						<span
							class="mt-2 text-sm font-medium leading-none text-center text-black font-sora sm:mt-0 sm:ml-2 sm:text-left">
							Company Information
						</span>
					</div>

					<!-- Divider -->
					<div class="hidden sm:block w-16 h-0.5 bg-gray-300"></div>
					<div class="block sm:hidden w-0.5 h-6 bg-gray-300"></div>

					<!-- Step 2 -->
					<div class="flex flex-col items-center sm:flex-row sm:items-center">
						<div
							class="flex items-center justify-center w-8 h-8 text-sm font-medium text-black bg-white border-2 border-gray-300 rounded-full step-indicator">
							2
						</div>
						<span
							class="mt-2 text-sm font-medium leading-none text-center text-black font-sora sm:mt-0 sm:ml-2 sm:text-left">
							Required Documents
						</span>
					</div>
				</div>
			</div>

			<!-- Form -->
			<form id="registrationForm" class="space-y-6">
				<!-- Step 1: Company Information -->
				<div class="p-6 bg-white rounded-lg shadow-sm form-step active">
					<div class="p-12 border rounded-lg">
						<div class="flex items-center gap-3 mb-6">
							<div
								class="flex items-center justify-center w-6 h-6 bg-green-800 rounded">
								<svg
									class="w-4 h-4 text-white"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24">
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
								</svg>
							</div>
							<h2
								class="text-[22px] tab-content font-sora font-bold text-blac tracking-normal leading-[100%]">
								Company Information
							</h2>
						</div>
						<p
							class="mb-6 text-lg text-black font-sora leading-[100%] tracking-normal">
							Provide your company's basic information and registration details
						</p>

						<div class="grid grid-cols-1 gap-6 md:grid-cols-2">
							<!-- Company Name -->
							<div>
								<label
									class="block mb-2 text-sm font-medium tracking-normal text-black font-sora leading-[100%]"
									>Company Name *</label
								>
								<input
									type="text"
									id="companyName"
									name="companyName"
									required
									class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md font-sora focus:outline-none focus:ring-1 focus:ring-primary-green focus:border-primary-green"
									placeholder="Enter company name" />
							</div>

							<!-- Phone Number -->
							<div>
								<label
									class="block mb-2 text-sm font-medium tracking-normal text-black font-sora leading-[100%]"
									>Phone Number *</label
								>
								<input
									type="tel"
									id="phoneNumber"
									name="phoneNumber"
									required
									class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md font-sora focus:outline-none focus:ring-1 focus:ring-primary-green focus:border-primary-green"
									placeholder="+234 XXX XXX XXXX" />
							</div>

							<!-- Email Address -->
							<div>
								<label
									class="block mb-2 text-sm font-medium tracking-normal text-black font-sora leading-[100%]"
									>Email Address *</label
								>
								<input
									type="email"
									id="emailAddress"
									name="emailAddress"
									required
									class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md font-sora focus:outline-none focus:ring-1 focus:ring-primary-green focus:border-primary-green"
									placeholder="company@example.com" />
							</div>

							<!-- CAC Registration Number -->
							<div>
								<label
									class="block mb-2 text-sm font-medium tracking-normal text-black font-sora leading-[100%]"
									>CAC Registration Number *</label
								>
								<input
									type="text"
									id="cacNumber"
									name="cacNumber"
									required
									class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md font-sora focus:outline-none focus:ring-1 focus:ring-primary-green focus:border-primary-green"
									placeholder="Enter CAC number" />
							</div>

							<!-- Tax Identification Number -->
							<div>
								<label
									class="block mb-2 text-sm font-medium tracking-normal text-black font-sora leading-[100%]"
									>Tax Identification Number *</label
								>
								<input
									type="text"
									id="taxId"
									name="taxId"
									required
									class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md font-sora focus:outline-none focus:ring-1 focus:ring-primary-green focus:border-primary-green"
									placeholder="Enter Tax ID" />
							</div>

							<!-- Business Category/Type -->
							<div>
								<label
									class="block mb-2 text-sm font-medium tracking-normal text-black font-sora leading-[100%]"
									>Business Category/Type *</label
								>
								<select
									id="businessCategory"
									name="businessCategory"
									required
									class="w-full px-3 py-2 text-sm border border-gray-300 rounded-md font-sora focus:outline-none focus:ring-1 focus:ring-primary-green focus:border-primary-green">
									<option value="">Select business category</option>
									<option value="technology">Technology</option>
									<option value="finance">Finance</option>
									<option value="healthcare">Healthcare</option>
									<option value="education">Education</option>
									<option value="manufacturing">Manufacturing</option>
									<option value="retail">Retail</option>
									<option value="services">Services</option>
									<option value="other">Other</option>
								</select>
							</div>
						</div>
					</div>
					<!-- Account Information -->
					<div class="p-12 mt-8 border rounded-lg">
						<h3
							class="mb-4 text-[22px] tab-content font-sora font-bold text-blac tracking-normal leading-[100%]">
							Account Information
						</h3>
						<p class="mb-4 text-gray-600">
							Create your login credentials for this platform
						</p>

						<div class="space-y-8">
							<div class="">
								<!-- Username -->
								<div class="">
									<label
										for="username"
										class="block mb-2 text-sm font-medium leading-tight tracking-normal text-black font-sora">
										Username <span class="text-red-600">*</span>
									</label>
									<input
										type="text"
										id="username"
										name="username"
										required
										placeholder="Choose a username"
										class="w-full px-4 py-2 text-sm text-black border border-gray-300 rounded-md font-sora focus:outline-none focus:ring-2 focus:ring-primary-green focus:border-primary-green" />
								</div>
							</div>

							<div class="grid grid-cols-1 gap-8 md:grid-cols-2">
								<!-- Password -->
								<div>
									<label
										for="password"
										class="block mb-2 text-sm font-medium leading-tight tracking-normal text-black font-sora">
										Password <span class="text-red-600">*</span>
									</label>
									<input
										type="password"
										id="password"
										name="password"
										required
										placeholder="Enter password"
										class="w-full px-4 py-2 text-sm text-black border border-gray-300 rounded-md font-sora focus:outline-none focus:ring-2 focus:ring-primary-green focus:border-primary-green" />
									<p class="mt-1 text-xs text-gray-600">
										Must be at least 8 characters long.
									</p>
								</div>

								<!-- Confirm Password -->
								<div>
									<label
										for="confirmPassword"
										class="block mb-2 text-sm font-medium leading-tight tracking-normal text-black font-sora">
										Confirm Password <span class="text-red-600">*</span>
									</label>
									<input
										type="password"
										id="confirmPassword"
										name="confirmPassword"
										required
										placeholder="Confirm password"
										class="w-full px-4 py-2 text-sm text-black border border-gray-300 rounded-md font-sora focus:outline-none focus:ring-2 focus:ring-primary-green focus:border-primary-green" />
								</div>
							</div>
						</div>
					</div>

					<!-- Next Button -->
					<div class="flex justify-end mt-8">
						<button
							type="button"
							id="nextBtn"
							class="px-6 py-2 text-white transition-colors duration-200 bg-green-800 rounded-md hover:bg-green-600 focus:outline-none focus:ring-1 focus:ring-primary-green focus:ring-offset-2">
							Next Step
						</button>
					</div>
				</div>

				<!-- Step 2: Required Documents -->
				<div class="p-6 bg-white rounded-lg shadow-sm form-step">
					<div class="flex items-center gap-3 mb-6">
						<div
							class="flex items-center justify-center w-6 h-6 bg-green-800 rounded">
							<svg
								class="w-4 h-4 text-white"
								fill="none"
								stroke="currentColor"
								viewBox="0 0 24 24">
								<path
									stroke-linecap="round"
									stroke-linejoin="round"
									stroke-width="2"
									d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
							</svg>
						</div>
						<h2 class="text-xl font-semibold text-gray-900">Required Documents</h2>
					</div>
					<p class="mb-6 text-gray-600">
						Please upload the following documents to complete your registration
					</p>

					<div class="space-y-6">
						<!-- Certificate of Incorporation -->
						<div class="document-upload">
							<label
								class="block mb-2 text-sm font-medium tracking-normal text-black font-sora leading-[100%]"
								>Certificate of Incorporation *</label
							>
							<div
								class="p-6 text-center rounded-lg cursor-pointer file-upload-area"
								data-field="incorporation">
								<svg
									class="w-12 h-12 mx-auto mb-3 text-gray-400"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24">
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
								</svg>
								<p class="mb-2 text-gray-600">Click to upload or drag and drop</p>
								<p class="text-xs text-black">PDF, JPG, PNG (Max 10MB)</p>
								<input
									type="file"
									class="hidden"
									accept=".pdf,.jpg,.jpeg,.png"
									name="incorporation" />
							</div>
							<p class="mt-1 text-xs text-black">
								Upload company's certificate of incorporation
							</p>
						</div>

						<!-- Tax Certificate -->
						<div class="document-upload">
							<label
								class="block mb-2 text-sm font-medium tracking-normal text-black font-sora leading-[100%]"
								>Tax Certificate *</label
							>
							<div
								class="p-6 text-center rounded-lg cursor-pointer file-upload-area"
								data-field="taxCert">
								<svg
									class="w-12 h-12 mx-auto mb-3 text-gray-400"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24">
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
								</svg>
								<p class="mb-2 text-gray-600">Click to upload or drag and drop</p>
								<p class="text-xs text-black">PDF, JPG, PNG (Max 10MB)</p>
								<input
									type="file"
									class="hidden"
									accept=".pdf,.jpg,.jpeg,.png"
									name="taxCert" />
							</div>
							<p class="mt-1 text-xs text-black">
								Upload your tax identification certificate
							</p>
						</div>

						<!-- Company Profile -->
						<div class="document-upload">
							<label
								class="block mb-2 text-sm font-medium tracking-normal text-black font-sora leading-[100%]"
								>Company Profile *</label
							>
							<div
								class="p-6 text-center rounded-lg cursor-pointer file-upload-area"
								data-field="profile">
								<svg
									class="w-12 h-12 mx-auto mb-3 text-gray-400"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24">
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
								</svg>
								<p class="mb-2 text-gray-600">Click to upload or drag and drop</p>
								<p class="text-xs text-black">PDF, JPG, PNG (Max 10MB)</p>
								<input
									type="file"
									class="hidden"
									accept=".pdf,.jpg,.jpeg,.png"
									name="profile" />
							</div>
							<p class="mt-1 text-xs text-black">
								Upload comprehensive company profile document
							</p>
						</div>

						<!-- Past Project Evidence -->
						<div class="document-upload">
							<label
								class="block mb-2 text-sm font-medium tracking-normal text-black font-sora leading-[100%]"
								>Past Project Evidence *</label
							>
							<div
								class="p-6 text-center rounded-lg cursor-pointer file-upload-area"
								data-field="projects">
								<svg
									class="w-12 h-12 mx-auto mb-3 text-gray-400"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24">
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
								</svg>
								<p class="mb-2 text-gray-600">Click to upload or drag and drop</p>
								<p class="text-xs text-black">PDF, JPG, PNG (Max 10MB)</p>
								<input
									type="file"
									class="hidden"
									accept=".pdf,.jpg,.jpeg,.png"
									name="projects" />
							</div>
							<p class="mt-1 text-xs text-black">
								Upload evidence of past project execution
							</p>
						</div>

						<!-- Government Documents -->
						<div class="document-upload">
							<label
								class="block mb-2 text-sm font-medium tracking-normal text-black font-sora leading-[100%]"
								>Government Documents *</label
							>
							<div
								class="p-6 text-center rounded-lg cursor-pointer file-upload-area"
								data-field="govDocs">
								<svg
									class="w-12 h-12 mx-auto mb-3 text-gray-400"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24">
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
								</svg>
								<p class="mb-2 text-gray-600">Click to upload or drag and drop</p>
								<p class="text-xs text-black">PDF, JPG, PNG (Max 10MB)</p>
								<input
									type="file"
									class="hidden"
									accept=".pdf,.jpg,.jpeg,.png"
									name="govDocs" />
							</div>
							<p class="mt-1 text-xs text-black">
								Upload all mandatory government documents and registration
							</p>
						</div>
					</div>

					<!-- Terms and Conditions -->
					<div class="p-4 mt-8 rounded-lg bg-gray-50">
						<label class="flex items-start gap-3">
							<input
								type="checkbox"
								id="termsAccepted"
								name="termsAccepted"
								required
								class="w-4 h-4 mt-1 text-green-600 bg-gray-100 border-gray-300 rounded fo text-smnt-sora focus:ring-primary-green" />
							<span class="text-sm text-black">
								I agree to the
								<a href="#" class="text-green-600 underline hover:text-green-700"
									>Terms of Service</a
								>
								and
								<a href="#" class="text-green-600 underline hover:text-green-700"
									>Privacy Policy</a
								>. By clicking this box, I acknowledge that I have read and understood
								the agreement and terms mentioned above.
							</span>
						</label>
					</div>

					<!-- Navigation Buttons -->
					<div class="flex justify-between mt-8">
						<button
							type="button"
							id="prevBtn"
							class="px-6 py-2 text-white transition-colors duration-200 bg-gray-500 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-1 focus:ring-gray-500 focus:ring-offset-2">
							Previous
						</button>
						<button
							type="submit"
							id="submitBtn"
							class="px-6 py-2 text-white transition-colors duration-200 bg-green-800 rounded-md hover:bg-green-600 focus:outline-none focus:ring-1 focus:ring-primary-green focus:ring-offset-2">
							Submit Application
						</button>
					</div>
				</div>
			</form>
		</div>

		<script>
			let currentStep = 1
			const totalSteps = 2
			const uploadedFiles = {}

			const requiredFieldIds = [
				"companyName",
				"phoneNumber",
				"emailAddress",
				"cacNumber",
				"taxId",
				"businessCategory",
				"username",
				"password",
				"confirmPassword",
				"termsAccepted", // checkbox
			]

			const requiredUploads = [
				"incorporation",
				"taxCert",
				"profile",
				"projects",
				"govDocs",
			]

			// DOM elements
			const nextBtn = document.getElementById("nextBtn")
			const prevBtn = document.getElementById("prevBtn")
			const submitBtn = document.getElementById("submitBtn")
			const form = document.getElementById("registrationForm")
			const progressBar = document.getElementById("progress-bar")
			const progressPercent = document.getElementById("progress-percent")

			function showStep(step) {
				const steps = document.querySelectorAll(".form-step")
				const indicators = document.querySelectorAll(".step-indicator")

				steps.forEach((s, index) => {
					s.classList.toggle("active", index + 1 === step)
				})

				indicators.forEach((indicator, index) => {
					indicator.classList.remove("active", "completed")
					if (index + 1 < step) indicator.classList.add("completed")
					else if (index + 1 === step) indicator.classList.add("active")
				})
			}

			// --- ADDED FOR FIELD TRACKING ---
			function updateFieldProgress() {
				let filled = 0
				let total = requiredFieldIds.length + requiredUploads.length

				requiredFieldIds.forEach((id) => {
					const el = document.getElementById(id)
					if (!el) return
					if (el.type === "checkbox") {
						if (el.checked) filled++
					} else if (el.value.trim() !== "") {
						filled++
					}
				})

				requiredUploads.forEach((key) => {
					if (uploadedFiles[key]) filled++
				})

				const percent = Math.round((filled / total) * 100)
				progressBar.style.width = percent + "%"
				progressPercent.textContent = percent
			}

			// Attach event listeners to inputs
			function attachInputListeners() {
				requiredFieldIds.forEach((id) => {
					const el = document.getElementById(id)
					if (!el) return

					const eventType =
						el.type === "checkbox" || el.tagName === "SELECT" ? "change" : "input"
					el.addEventListener(eventType, updateFieldProgress)
				})
			}

			// Step validations
			function validateStep1() {
				const fields = [
					"companyName",
					"phoneNumber",
					"emailAddress",
					"cacNumber",
					"taxId",
					"businessCategory",
					"username",
					"password",
					"confirmPassword",
				]
				for (const field of fields) {
					const input = document.getElementById(field)
					if (!input.value.trim()) {
						input.focus()
						showError(input, "This field is required")
						return false
					}
				}
				const password = document.getElementById("password").value
				const confirmPassword = document.getElementById("confirmPassword").value
				if (password !== confirmPassword) {
					showError(
						document.getElementById("confirmPassword"),
						"Passwords do not match"
					)
					return false
				}
				if (password.length < 8) {
					showError(
						document.getElementById("password"),
						"Password must be at least 8 characters long"
					)
					return false
				}
				return true
			}

			function validateStep2() {
				for (const upload of requiredUploads) {
					if (!uploadedFiles[upload]) {
						alert(
							`Please upload ${upload
								.replace(/([A-Z])/g, " $1")
								.toLowerCase()} document`
						)
						return false
					}
				}
				const termsAccepted = document.getElementById("termsAccepted")
				if (!termsAccepted.checked) {
					showError(termsAccepted, "You must accept the terms and conditions")
					return false
				}
				return true
			}

			function showError(element, message) {
				const existingError = element.parentNode.querySelector(".error-message")
				if (existingError) existingError.remove()

				element.classList.add("border-red-500")

				const errorDiv = document.createElement("div")
				errorDiv.className = "error-message text-red-500 text-sm mt-1"
				errorDiv.textContent = message
				element.parentNode.appendChild(errorDiv)

				setTimeout(() => {
					element.classList.remove("border-red-500")
					errorDiv.remove()
				}, 5000)
			}

			// Step Navigation
			nextBtn.addEventListener("click", () => {
				if (validateStep1()) {
					currentStep++
					showStep(currentStep)
				}
			})

			prevBtn.addEventListener("click", () => {
				currentStep--
				showStep(currentStep)
			})

			form.addEventListener("submit", (e) => {
				e.preventDefault()
				if (validateStep2()) {
					submitBtn.disabled = true
					submitBtn.textContent = "Submitting..."
					setTimeout(() => {
						alert("Registration submitted successfully!")
						submitBtn.disabled = false
						submitBtn.textContent = "Submit Application"
					}, 2000)
				}
			})

			// File upload
			document.querySelectorAll(".file-upload-area").forEach((area) => {
				const input = area.querySelector('input[type="file"]')
				const field = area.dataset.field

				area.addEventListener("click", () => input.click())

				area.addEventListener("dragover", (e) => {
					e.preventDefault()
					area.classList.add("dragover")
				})

				area.addEventListener("dragleave", () => {
					area.classList.remove("dragover")
				})

				area.addEventListener("drop", (e) => {
					e.preventDefault()
					area.classList.remove("dragover")
					const files = e.dataTransfer.files
					if (files.length > 0) handleFile(files[0], field, area)
				})

				input.addEventListener("change", (e) => {
					if (e.target.files.length > 0) handleFile(e.target.files[0], field, area)
				})
			})

			function handleFile(file, field, area) {
				if (file.size > 10 * 1024 * 1024) {
					alert("File size must be less than 10MB")
					return
				}
				const allowedTypes = [
					"application/pdf",
					"image/jpeg",
					"image/jpg",
					"image/png",
				]
				if (!allowedTypes.includes(file.type)) {
					alert("Only PDF, JPG, and PNG files are allowed")
					return
				}
				uploadedFiles[field] = file
				updateFieldProgress() // <--- Important

				area.innerHTML = `
                <svg class="w-12 h-12 mx-auto mb-3 text-primary-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <p class="font-medium text-green-600">${file.name}</p>
                <p class="text-xs text-black">File uploaded successfully</p>
                <button type="button" class="mt-2 text-sm text-red-600 hover:text-red-700" onclick="removeFile('${field}', this.parentElement)">Remove</button>
            `
				area.classList.add("border-primary-green", "bg-green-50")
			}

			function removeFile(field, area) {
				delete uploadedFiles[field]
				updateFieldProgress()
				area.classList.remove("border-primary-green", "bg-green-50")
				area.innerHTML = `
                <svg class="w-12 h-12 mx-auto mb-3 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
                </svg>
                <p class="mb-2 text-gray-600">Click to upload or drag and drop</p>
                <p class="text-xs text-black">PDF, JPG, PNG (Max 10MB)</p>
            `
			}

			// Initialize
			showStep(1)
			attachInputListeners()
			updateFieldProgress()
		</script>
	</body>
</html>
